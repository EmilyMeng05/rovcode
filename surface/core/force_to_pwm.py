import numpy as np

# set the data (T-100 thruster 12 volt)
thrust = [
    -17.33994023, -16.09182114, -15.46776159, -14.97742909, -14.13049114, -13.72931000,
    -12.97152341, -12.34746386, -11.85713136, -11.41137455, -10.83189069, -10.20783114,
    -9.71749864,  -9.09343909,  -8.38022819,  -7.75616864,  -7.39956319,  -6.90923069,
    -6.55262523,  -6.10686841,  -5.70568727,  -5.21535477,  -4.63587091,  -4.19011409,
    -3.92266000,  -3.61063023,  -3.20944909,  -2.67454091,  -2.27335977,  -1.96133000,
    -1.64930023,  -1.38184614,  -1.02524069,  -0.71321091,  -0.49033250,  -0.31202977,
    -0.13372705,  -0.08915136,  0.00000000,  0.00000000,  0.00000000,  0.00000000,
    0.08915136,  0.35660545,  0.62405955,  1.02524069,  1.42642181,  1.91675431,
    2.49623819,  3.03114636,  3.61063023,  4.23468977,  4.72502227,  5.34908181,
    6.01771705,  6.73092795,  7.22126045,  7.88989569,  8.64768227,  9.45004455,
    10.38613386, 11.09934477, 11.63425295, 12.30288819, 12.79322069, 13.59558295,
    14.62082364, 15.46776159, 16.22554819, 16.93875909, 17.87484841, 19.21211886,
    20.05905681, 20.59396500, 21.39632727, 22.19868955, 22.77817341, 23.71426273,
    24.38289795, 24.69492773
    ]
pwm = [1100, 1110, 1120, 1130, 1140, 1150, 1160, 1170, 1180, 1190, 1200, 1210, 1220, 1230, 1240,
    1250, 1260, 1270, 1280, 1290, 1300, 1310, 1320, 1330, 1340, 1350, 1360, 1370, 1380, 1390,
    1400, 1410, 1420, 1430, 1440, 1450, 1460, 1470, 1480, 1500, 1510, 1520, 1530, 1540, 1550,
    1560, 1570, 1580, 1590, 1600, 1610, 1620, 1630, 1640, 1650, 1660, 1670, 1680, 1690, 1700,
    1710, 1720, 1730, 1740, 1750, 1760, 1770, 1780, 1790, 1800, 1810, 1820, 1830, 1840, 1850,
    1860, 1870, 1880, 1890, 1900]

# interpolate the data
def getPWM(force) : 
    if (force < -17.3) : # desired force is outside the PWM range
        return 1100
    elif (force > 24.70) :
        return 1900
    else : 
        return np.interp(force, thrust, pwm)
    

